{"mappings":"oQAqDkCA,IAA9BC,UAEK,IAAAA,kHAvDQ,EAAIC,EAAO,GAAIC,EAAaC,KAC3C,IAAIC,EAAOF,GAAe,2BAE1B,MAAMG,EAAQJ,EAAKK,KAAKC,IACtB,IAAIC,EAAM,GAMV,OALID,EAAKE,KAAON,IACdC,EAAOG,EAAKG,MACZF,EAAM,YAGR,mCAPYA,gCAAAD,EAAAE,OAAAF,EAAAG,iLA2BQC,kKAGpBN,EAAKF,KAAAA,+RC9BT,MAAMS,EAAS,sBDoDPC,EAAAF,KAAAG,KAAAC,GAAAC,EACFF,KAAAG,QACKC,IAAIC,SAAJC,cAANP,QACCF,QAAWU,OACXlB,WAAAQ,EAAAR,WACDmB,EACCR,KAAAG,EAAAM,GAAAC,KAAAV,MAEHQ,EAAAR,KAAAC,EAAAU,GAAAD,KAAAV,mBAGQO,GACR,MAAAF,KAAAA,GAAAE,EAAAK,OAAA3B,QAEG4B,GAAAA,CACF,gBACD,SAEKC,SAANhB,GAAAA,KAAAA,cACOT,GAAaM,SAAbN,EAAL,CACA,MAAK0B,EAAOC,EAAAA,OAAc/B,QAAK4B,GAE/Bb,KAASiB,OAAAA,OACMC,aAAVC,GAAHnB,KAAAoB,QAEFC,aAEA,OAAKxB,KAALO,IAAakB,UAAWC,SAAK1B,QAG9BgB,cAEDW,OAAAA,KAAAA,QAAAA,KAAAA,MAAAA,GAAAA,EAAAA,KAAAA,KAAAA,aAIAC,OAAO9B,GACLK,KAAKI,WAALT,EACAK,KAAK0B,OAAOP,YAAUD,KAAtBL,QAAAjB,MACAI,KAAK0B,IAAAA,iBAAqB,sBAA1BC,SAAAC,IACDA,EAAAT,UAAAD,OAAA,eAGClB,KAAKI,IAAIe,cAAUD,aAAnBvB,OAAAwB,UAAAU,IAAA,YACA7B,KAAK0B,QAAOP,UAAUD,KAAtBrB,QAAAyB,SAAAtB,KAAAa,SACAb,KAAK0B,QAGPI,SACE9B,KAAKI,OAAI2B,KAAAA,QAAoB/B,KAA7ByB,OAEDA,2CAnESC,OAAAP,UAAAD,OAAA,mBACRlB,KAAA0B,OAAAP,UAAQ/B,IAAAA,iBAERgC,QACDpB,KAAAI,IAAAe,UAAAD,OAAA,aAEQQ,OAAAP,UAAAD,OAAA,iBACPlB,KAAKgC,OAAAA,UAAoBA,IAAAA,mBAEzBF,UACA9B,KAAKe,IAALgB,oBAAuBzB,QAATN,KAAAgC,cACfhC,KAAAI,IAAA6B,UAAA,KC/CuB,UAAW,CACnC7C,YAAa,4BAEbD,KAAM,CACJ,CAAEQ,GAAI,IAAKC,MAAO,SAClB,CAAED,GAAI,IAAKC,MAAO,WAClB,CAAED,GAAI,IAAKC,MAAO,OAClB,CAAED,GAAI,IAAKC,MAAO,gBAClB,CAAED,GAAI,IAAKC,MAAO,QAClB,CAAED,GAAI,IAAKC,MAAO,SAEpB0B,SAAS7B,GACPyC,QAAQC,IAAI,gBAAiB1C,MAMjC2C,OAAOC,EAAIvC","sources":["select/select.js","index.js"],"sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\r\n  let text = placeholder ?? \"Placeholder по умолчанию\";\r\n\r\n  const items = data.map((item) => {\r\n    let cls = '';\r\n    if (item.id === selectedId) {\r\n      text = item.value;\r\n      cls = 'selected';\r\n    }\r\n\r\n    return `\r\n      <li class=\"select__item ${cls}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>\r\n    `;\r\n  });\r\n\r\n  return `\r\n    <div class=\"select__backdrop\" data-type=\"backdrop\"></div>\r\n    <div class=\"select__input\" data-type=\"input\">\r\n      <span data-type=\"value\">${text}</span>\r\n      <i class=\"fa fa-chevron-down\" data-type=\"arrow\"></i>\r\n    </div>\r\n    <div class=\"select__dropdown\">\r\n      <ul class=\"select__list\">\r\n        ${items.join(\"\")}\r\n      </ul>\r\n    </div>\r\n  `;\r\n};\r\n\r\nexport class Select {\r\n  constructor(selector, options) {\r\n    this.$el = document.querySelector(selector);\r\n    this.options = options;\r\n    this.selectedId = options.selectedId;\r\n\r\n    this.#render();\r\n    this.#setup();\r\n  }\r\n\r\n  #render() {\r\n    const { placeholder, data } = this.options;\r\n    this.$el.classList.add(\"select\");\r\n    this.$el.innerHTML = getTemplate(data, placeholder, this.selectedId);\r\n  }\r\n\r\n  #setup() {\r\n    this.clickHandler = this.clickHandler.bind(this);\r\n    this.$el.addEventListener(\"click\", this.clickHandler);\r\n    this.$arrow = this.$el.querySelector('[data-type=\"arrow\"]');\r\n    this.$value = this.$el.querySelector('[data-type=\"value\"]');\r\n  }\r\n\r\n  clickHandler(event) {\r\n    const { type } = event.target.dataset;\r\n\r\n    if (['input', 'value', 'arrow'].includes(type)) {\r\n      this.toggle();\r\n    } else if (type === \"item\") {\r\n      const id = event.target.dataset.id;\r\n      this.select(id);\r\n    } else if (type === 'backdrop') {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  get isOpen() {\r\n    return this.$el.classList.contains(\"open\");\r\n  }\r\n\r\n  get current() {\r\n    return this.options.data.find((item) => item.id === this.selectedId);\r\n  }\r\n\r\n  select(id) {\r\n    this.selectedId = id;\r\n    this.$value.textContent = this.current.value;\r\n\r\n    this.$el.querySelectorAll('[data-type=\"item\"]').forEach((el) => {\r\n      el.classList.remove(\"selected\");\r\n    });\r\n    this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add(\"selected\");\r\n\r\n    this.options.onSelect ? this.options.onSelect(this.current) : null;\r\n    \r\n    this.close();\r\n  }\r\n\r\n  toggle() {\r\n    this.isOpen ? this.close() : this.open();\r\n  }\r\n\r\n  open() {\r\n    this.$el.classList.add(\"open\");\r\n    this.$arrow.classList.remove(\"fa-chevron-down\");\r\n    this.$arrow.classList.add(\"fa-chevron-up\");\r\n  }\r\n\r\n  close() {\r\n    this.$el.classList.remove(\"open\");\r\n    this.$arrow.classList.remove(\"fa-chevron-up\");\r\n    this.$arrow.classList.add(\"fa-chevron-down\");\r\n  }\r\n\r\n  destroy() {\r\n    this.$el.removeEventListener(\"click\", this.clickHandler);\r\n    this.$el.innerHTML = '';\r\n  }\r\n}\r\n","import { Select } from './select/select';\r\nimport './select/styles.scss';\r\n\r\nconst select = new Select('#select', {\r\n  placeholder: 'Выбери пожалуйста элемент',\r\n  // selectedId: '2',\r\n  data: [\r\n    { id: '1', value: 'React' },\r\n    { id: '2', value: 'Angular' },\r\n    { id: '3', value: 'Vue' },\r\n    { id: '4', value: 'React Native' },\r\n    { id: '5', value: 'Next' },\r\n    { id: '6', value: 'Nest' },\r\n  ],\r\n  onSelect(item) {\r\n    console.log('Selected item', item);\r\n  },\r\n});\r\n\r\n// select.select(4);\r\n\r\nwindow.s = select;"],"names":["dataset","WeakSet","data","placeholder","selectedId","text","items","map","item","cls","id","value","options","select","selector","this","$7aa2a578a953cf9b$var$_setup","$7aa2a578a953cf9b$var$_classPrivateMethodInitSpec","$7aa2a578a953cf9b$var$_render","$el","type","querySelector","event","$7aa2a578a953cf9b$var$_classPrivateMethodGet","$7aa2a578a953cf9b$var$_render2","call","$7aa2a578a953cf9b$var$_setup2","target","current","includes","$value","textContent","querySelectorAll","remove","classList","close","isOpen","onSelect","contains","toggle","open","$arrow","forEach","el","add","destroy","removeEventListener","clickHandler","innerHTML","console","log","window","s"],"version":3,"file":"index.82025dd1.js.map"}